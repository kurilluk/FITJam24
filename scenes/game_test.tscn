[gd_scene load_steps=20 format=3 uid="uid://336wie5idy4l"]

[ext_resource type="Theme" uid="uid://dhwpta7qgho67" path="res://UI/UI_theme.tres" id="1_vw8ak"]
[ext_resource type="TileSet" uid="uid://drcy18v0gpc0d" path="res://tileset/Rocks.tres" id="2_vkl6y"]
[ext_resource type="Script" path="res://scripts/astar.gd" id="3_r2x8w"]
[ext_resource type="Texture2D" uid="uid://8ohvsc1ifcrc" path="res://images/cracked-rock-1024x1024-assets/rock.png" id="4_ppyqc"]
[ext_resource type="TileSet" uid="uid://f3wmg8detyai" path="res://tileset/tileset.tres" id="5_quuj1"]
[ext_resource type="Script" path="res://pathfind_astar.gd" id="6_f7jps"]
[ext_resource type="Script" path="res://character.gd" id="7_ieqoo"]
[ext_resource type="Texture2D" uid="uid://by23djxj6dfnd" path="res://images/ball-assets/ball.png" id="8_mspex"]
[ext_resource type="Texture2D" uid="uid://bjsmfha28ro00" path="res://sprites/sparkle.png" id="9_1dxd1"]
[ext_resource type="PackedScene" uid="uid://btqmn3pt72x8f" path="res://scenes/player.tscn" id="10_5jeid"]
[ext_resource type="Script" path="res://scripts/StressMeter.gd" id="11_145t7"]
[ext_resource type="PackedScene" uid="uid://d3cfww00ag4cy" path="res://scenes/tramp.tscn" id="12_d8p67"]
[ext_resource type="AudioStream" uid="uid://bqudsbfqi3hn6" path="res://sounds/sfx/gravel_step_01.mp3" id="12_y30ib"]
[ext_resource type="Script" path="res://scripts/AudioMix.gd" id="13_a3k1t"]

[sub_resource type="CanvasItemMaterial" id="CanvasItemMaterial_foa8s"]
light_mode = 1

[sub_resource type="CanvasItemMaterial" id="1"]
blend_mode = 1
particles_animation = true
particles_anim_h_frames = 8
particles_anim_v_frames = 1
particles_anim_loop = false

[sub_resource type="Curve" id="2"]
_data = [Vector2(0, 0), 0.0, 1.15429, 0, 0, Vector2(0.316832, 0.342045), 0.0399209, 0.0399209, 0, 0, Vector2(1, 0.136364), -1.05591, 0.0, 0, 0]
point_count = 3

[sub_resource type="Gradient" id="3"]
offsets = PackedFloat32Array(0, 0.692737, 1)
colors = PackedColorArray(1, 0.893555, 0, 1, 0.265625, 1, 0.490903, 1, 0.0154343, 0.688679, 0.987793, 1)

[sub_resource type="Environment" id="Environment_ot2c4"]
glow_intensity = 3.33
glow_strength = 0.96
glow_blend_mode = 0
glow_hdr_threshold = 1.95

[node name="Game" type="Node2D"]

[node name="GUI" type="CanvasLayer" parent="."]
visible = false

[node name="todo_texture_bar" type="TextureProgressBar" parent="GUI"]
visible = false
offset_right = 384.0
offset_bottom = 40.0

[node name="FearBar" type="ProgressBar" parent="GUI"]
offset_left = 64.0
offset_top = 64.0
offset_right = 640.0
offset_bottom = 192.0
theme = ExtResource("1_vw8ak")
value = 50.0

[node name="Level" type="TileMap" parent="."]
z_index = 2
tile_set = ExtResource("2_vkl6y")
format = 2
layer_0/tile_data = PackedInt32Array(0, 1, 65536, 1, 196609, 0, 2, 1, 65536, 3, 65537, 131072, 4, 196609, 0, 5, 1, 196608, 6, 196609, 196608, 7, 131073, 0, 8, 131073, 65536, 9, 1, 65536, 10, 131073, 131072, 11, 1, 65536, 12, 65537, 131072, 13, 131073, 196608, 14, 65537, 131072, 15, 65537, 65536, 16, 1, 0, 17, 131073, 131072, 18, 1, 196608, 19, 1, 65536, 20, 131073, 131072, 21, 131073, 65536, 22, 65537, 0, 23, 65537, 65536, 24, 65537, 65536, 25, 131073, 196608, 26, 65537, 65536, 27, 1, 0, 28, 131073, 65536, 29, 65537, 65536, 30, 1, 65536, 31, 131073, 131072, 983040, 1, 196608, 983041, 65537, 131072, 983042, 131073, 0, 983043, 131073, 131072, 983044, 196609, 196608, 983045, 1, 196608, 983046, 131073, 131072, 983047, 131073, 65536, 983048, 131073, 196608, 983049, 131073, 196608, 983050, 131073, 65536, 983051, 131073, 65536, 983052, 196609, 0, 983053, 65537, 65536, 983054, 1, 0, 983055, 1, 196608, 983056, 196609, 0, 983057, 65537, 0, 983058, 65537, 196608, 983059, 196609, 196608, 983060, 196609, 131072, 983061, 196609, 196608, 983062, 1, 65536, 983063, 131073, 0, 983064, 1, 131072, 983065, 1, 196608, 983066, 131073, 196608, 983067, 1, 131072, 983068, 1, 0, 983069, 65537, 196608, 983070, 1, 65536, 983071, 65537, 65536, 65536, 65537, 196608, 131072, 1, 65536, 196608, 131073, 0, 262144, 65537, 131072, 327680, 196609, 0, 393216, 131073, 131072, 458752, 131073, 196608, 524288, 131073, 65536, 589824, 65537, 0, 655360, 1, 0, 720896, 1, 131072, 786432, 1, 0, 851968, 1, 65536, 917504, 131073, 196608, 65542, 131073, 65536, 131078, 131073, 196608, 196614, 65537, 0, 262150, 1, 65536, 327686, 196609, 131072, 393222, 196609, 65536, 458758, 131073, 0, 524294, 196609, 131072, 589830, 1, 131072, 655366, 131073, 0, 65543, 1, 196608, 131079, 131073, 196608, 196615, 65537, 131072, 262151, 65537, 131072, 327687, 1, 0, 393223, 131073, 131072, 458759, 196609, 0, 524295, 65537, 0, 589831, 1, 0, 655367, 65537, 0, 524299, 196609, 131072, 589835, 131073, 196608, 655371, 131073, 0, 720907, 196609, 196608, 786443, 1, 65536, 851979, 196609, 0, 917515, 1, 196608, 524300, 65537, 131072, 589836, 1, 0, 655372, 65537, 65536, 720908, 1, 196608, 786444, 65537, 131072, 851980, 65537, 196608, 917516, 65537, 0, 65550, 65537, 196608, 131086, 65537, 131072, 196622, 1, 65536, 262158, 1, 0, 327694, 196609, 131072, 393230, 196609, 0, 458766, 1, 65536, 524302, 196609, 196608, 589838, 65537, 196608, 65551, 65537, 0, 131087, 131073, 131072, 196623, 1, 196608, 262159, 196609, 0, 327695, 65537, 196608, 393231, 65537, 65536, 458767, 131073, 0, 524303, 196609, 196608, 589839, 65537, 196608, 65552, 131073, 196608, 131088, 65537, 196608, 196624, 131073, 65536, 262160, 1, 196608, 327696, 131073, 0, 393232, 131073, 131072, 458768, 65537, 65536, 524304, 131073, 131072, 589840, 1, 65536, 262163, 131073, 131072, 327699, 65537, 65536, 393235, 196609, 65536, 458771, 65537, 131072, 524307, 131073, 65536, 589843, 65537, 65536, 655379, 196609, 131072, 720915, 1, 0, 786451, 1, 0, 851987, 196609, 131072, 917523, 65537, 131072, 262164, 65537, 65536, 327700, 65537, 131072, 393236, 131073, 196608, 458772, 65537, 0, 524308, 65537, 65536, 589844, 65537, 0, 655380, 1, 131072, 720916, 196609, 65536, 786452, 65537, 0, 851988, 131073, 0, 917524, 131073, 196608, 65559, 65537, 131072, 131095, 65537, 131072, 196631, 65537, 0, 262167, 65537, 65536, 327703, 65537, 0, 393239, 196609, 65536, 458775, 131073, 0, 65560, 196609, 131072, 131096, 196609, 0, 196632, 131073, 65536, 262168, 65537, 65536, 327704, 196609, 196608, 393240, 131073, 65536, 458776, 65537, 131072, 65561, 65537, 0, 131097, 65537, 0, 196633, 65537, 0, 262169, 65537, 131072, 327705, 1, 131072, 393241, 65537, 65536, 458777, 131073, 65536, 65562, 1, 65536, 131098, 196609, 196608, 196634, 1, 196608, 262170, 65537, 131072, 327706, 65537, 0, 393242, 1, 65536, 458778, 1, 196608, 458780, 65537, 131072, 524316, 196609, 131072, 589852, 1, 0, 655388, 131073, 0, 720924, 65537, 0, 786460, 196609, 65536, 851996, 196609, 65536, 917532, 1, 65536)
script = ExtResource("3_r2x8w")

[node name="Background" type="Sprite2D" parent="Level"]
visible = false
z_index = -1
texture_repeat = 2
texture = ExtResource("4_ppyqc")
centered = false
region_enabled = true
region_rect = Rect2(0, 0, 2048, 1024)

[node name="TileMap_old" type="TileMap" parent="."]
visible = false
position = Vector2(1024, 0)
tile_set = ExtResource("5_quuj1")
format = 2
layer_0/tile_data = PackedInt32Array(-131079, 196611, 0, -131078, 196611, 0, -131077, 65539, 65536, -131076, 65539, 65536, -131075, 196611, 196608, -131074, 131075, 196608, -131073, 196611, 0, -196608, 131075, 65536, -196607, 196611, 131072, -196606, 65539, 196608, -196605, 65539, 0, -196604, 65539, 196608, -196603, 131075, 0, -196602, 3, 65536, -196601, 3, 196608, -196600, 131075, 131072, -196599, 3, 196608, -196598, 65539, 0, -196597, 3, 65536, -196596, 3, 131072, -196595, 3, 65536, -196594, 65539, 196608, -196593, 3, 0, -196592, 65539, 131072, -196591, 131075, 65536, -196590, 131075, 131072, -196589, 3, 0, -196588, 65539, 0, -196587, 196611, 196608, -196586, 3, 65536, -196585, 65539, 65536, -196584, 3, 0, 851961, 3, 0, 851962, 196611, 0, 851963, 131075, 196608, 851964, 3, 196608, 851965, 3, 0, 851966, 131075, 196608, 851967, 196611, 131072, 786432, 196611, 65536, 786433, 131075, 131072, 786434, 3, 0, 786435, 131075, 196608, 786436, 3, 131072, 786437, 196611, 65536, 786438, 65539, 196608, 786439, 65539, 65536, 786440, 131075, 196608, 786441, 196611, 196608, 786442, 131075, 0, 786443, 196611, 0, 786444, 196611, 131072, 786445, 65539, 0, 786446, 131075, 196608, 786447, 131075, 196608, 786448, 196611, 196608, 786449, 3, 196608, 786450, 196611, 65536, 786451, 196611, 131072, 786452, 196611, 0, 786453, 65539, 131072, 786454, 196611, 0, 786455, 131075, 0, 786456, 3, 0, 786426, 3, 65536, 720891, 196611, 0, 720892, 3, 131072, 655357, 196611, 131072, 589822, 196611, 0, 524287, 3, 196608, 458752, 196611, 131072, 393217, 131075, 65536, 131073, 196611, 196608, 131074, 196611, 65536, 131075, 65539, 196608, 196612, 65539, 196608, 196613, 196611, 131072, 196614, 196611, 196608, -65533, 131075, 0, -65532, 3, 0, -65531, 65539, 131072, -131066, 131075, 65536, -131065, 131075, 65536, -131064, 196611, 0, 12, 65539, 0, 65549, 3, 196608, 131085, 65539, 0, 196622, 131075, 196608, 262161, 3, 196608, 327698, 65539, 196608, 393235, 196611, 65536, 458770, 131075, 196608, 458769, 196611, 65536, 458768, 3, 196608, 524303, 65539, 131072, 524302, 196611, 196608, 524301, 65539, 196608, 524295, 196611, 65536, 458759, 131075, 131072, 458760, 3, 131072, 393224, 3, 131072, 458758, 65539, 131072, 524294, 3, 196608, 524293, 131075, 131072, 589828, 3, 196608, 589827, 196611, 131072, 655363, 131075, 196608, 720897, 3, 0, 720896, 65539, 196608, 655366, 131075, 131072, 655367, 131075, 65536, 720903, 65539, 65536, 720904, 196611, 65536, 655369, 131075, 65536, 655370, 196611, 196608, 720906, 196611, 196608, 720907, 65539, 65536, 655375, 131075, 196608, 655376, 196611, 0, 655377, 65539, 65536, 655378, 65539, 65536, 655379, 196611, 0, 655380, 196611, 0, 458775, 131075, 65536, 524311, 196611, 0, 524310, 3, 196608, 458772, 131075, 131072, 393236, 65539, 65536, 327701, 3, 131072, 196630, 3, 196608, 131094, 196611, 196608, 131093, 65539, 65536, 65557, 131075, 131072, 19, 196611, 0, 18, 3, 196608, 17, 196611, 131072, -65519, 3, 0, -65520, 196611, 0, -65521, 3, 196608, -65522, 196611, 65536, -65523, 131075, 196608, -131059, 3, 196608, -65525, 3, 0, 11, 196611, 131072, 10, 196611, 196608, 131082, 196611, 65536, 196618, 65539, 131072, 262154, 3, 65536, 262152, 131075, 131072, 196616, 196611, 0, 196615, 65539, 131072, 262150, 65539, 196608, 1, 3, 0, -65535, 3, 131072, 65534, 65539, 131072, 131070, 3, 131072, 196605, 131075, 0, 262141, 131075, 131072, 327677, 3, 196608, 393213, 3, 196608, 393212, 131075, 196608, 458748, 3, 131072, 524283, 196611, 0, 524282, 131075, 0, 524288, 3, 65536, 589825, 131075, 196608, 655361, 3, 65536, 655362, 196611, 65536, 589832, 65539, 131072, 589833, 131075, 0, 589837, 196611, 0, 655373, 3, 131072, 655374, 131075, 131072, 720911, 131075, 196608, 720912, 196611, 0, 720919, 131075, 65536, 655384, 196611, 65536, 262168, 65539, 131072, 196632, 131075, 0, 131096, 65539, 65536, -65514, 3, 196608, -131049, 65539, 0, -65513, 196611, 0, -65512, 3, 0, -131048, 131075, 0, -65543, 3, 65536, -7, 131075, 131072, 65529, 3, 0, 131065, 131075, 196608, 196601, 131075, 0, 262137, 65539, 65536, 327673, 196611, 0, 393209, 65539, 131072, 458745, 131075, 0, 458746, 131075, 196608, 589818, 3, 0, 655354, 196611, 65536, 720890, 65539, 0, 786425, 3, 65536, 720889, 3, 65536, 655353, 3, 196608, 589817, 196611, 0, 524281, 65539, 196608, 786427, 65539, 196608, 786429, 3, 131072, 786430, 65539, 0, 786428, 131075, 131072)
script = ExtResource("6_f7jps")

[node name="Character" type="Marker2D" parent="."]
visible = false
top_level = true
position = Vector2(32, 32)
script = ExtResource("7_ieqoo")

[node name="Sprite2D" type="Sprite2D" parent="Character"]
visible = false
light_mask = 0
material = SubResource("CanvasItemMaterial_foa8s")
texture = ExtResource("8_mspex")

[node name="CPUParticles2D" type="CPUParticles2D" parent="Character"]
visible = false
material = SubResource("1")
position = Vector2(-20, 0)
rotation = 1.5708
amount = 30
texture = ExtResource("9_1dxd1")
emission_shape = 1
emission_sphere_radius = 8.0
direction = Vector2(0, 1)
spread = 25.0
gravity = Vector2(0, 0)
initial_velocity_min = 50.0
initial_velocity_max = 50.0
scale_amount_curve = SubResource("2")
color_ramp = SubResource("3")

[node name="Player" parent="." instance=ExtResource("10_5jeid")]
position = Vector2(1123, 339)

[node name="StressMeter" type="Node2D" parent="Player"]
script = ExtResource("11_145t7")

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="Player"]
stream = ExtResource("12_y30ib")
bus = &"Filter"
script = ExtResource("13_a3k1t")

[node name="Tramp" parent="." instance=ExtResource("12_d8p67")]
visible = false
position = Vector2(732, 408)

[node name="Tramp4" parent="." instance=ExtResource("12_d8p67")]
visible = false
position = Vector2(800, 476)

[node name="Tramp2" parent="." instance=ExtResource("12_d8p67")]
visible = false
position = Vector2(858, 482)

[node name="Tramp3" parent="." instance=ExtResource("12_d8p67")]
visible = false
position = Vector2(801, 546)

[node name="CanvasModulate" type="CanvasModulate" parent="."]
light_mask = 2
visibility_layer = 2
color = Color(0.0509804, 0.00392157, 0.0588235, 1)

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_ot2c4")
