[gd_scene load_steps=16 format=3 uid="uid://jkfs45kbqjyx"]

[ext_resource type="Script" path="res://scripts/MMenu.gd" id="1_f58px"]
[ext_resource type="Theme" uid="uid://dhwpta7qgho67" path="res://UI/UI_theme.tres" id="2_vb8o4"]
[ext_resource type="Texture2D" uid="uid://byo5k33gbv7xo" path="res://images/bar_cutBlur2_bitmap.png" id="3_lmw32"]
[ext_resource type="TileSet" uid="uid://drcy18v0gpc0d" path="res://tileset/Rocks.tres" id="4_ggfrp"]
[ext_resource type="Script" path="res://scripts/astarUniversal.gd" id="5_ipjiy"]
[ext_resource type="Texture2D" uid="uid://8ohvsc1ifcrc" path="res://images/cracked-rock-1024x1024-assets/rock.png" id="6_y0qps"]
[ext_resource type="PackedScene" uid="uid://btqmn3pt72x8f" path="res://scenes/player.tscn" id="7_c6s0p"]
[ext_resource type="Script" path="res://scripts/StressMeter.gd" id="8_xqgh4"]
[ext_resource type="AudioStream" uid="uid://bw6dp3ntekjvf" path="res://sounds/ambience/ambience_basic_seamless_01.mp3" id="9_gkxaj"]
[ext_resource type="Script" path="res://scripts/Tramps.gd" id="10_xsrhc"]
[ext_resource type="PackedScene" uid="uid://d3cfww00ag4cy" path="res://scenes/tramp.tscn" id="11_yksfx"]
[ext_resource type="PackedScene" path="res://scenes/end.tscn" id="12_2vcc5"]

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_y7p5t"]

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_h2xea"]
texture = ExtResource("3_lmw32")
axis_stretch_horizontal = 1

[sub_resource type="Environment" id="Environment_ot2c4"]
glow_intensity = 3.33
glow_strength = 0.96
glow_blend_mode = 0
glow_hdr_threshold = 1.95

[node name="Game" type="Node2D"]

[node name="GUI" type="CanvasLayer" parent="."]
script = ExtResource("1_f58px")

[node name="MMenu" type="Label" parent="GUI"]
offset_left = 1592.0
offset_top = 1004.0
offset_right = 1858.0
offset_bottom = 1052.0
theme = ExtResource("2_vb8o4")
theme_override_font_sizes/font_size = 38
text = "M = main menu"
horizontal_alignment = 2
vertical_alignment = 2

[node name="FearBar" type="ProgressBar" parent="GUI"]
texture_filter = 1
layout_direction = 2
offset_left = 24.0
offset_top = 1004.0
offset_right = 1024.0
offset_bottom = 1052.0
theme = ExtResource("2_vb8o4")
theme_override_font_sizes/font_size = 38
theme_override_styles/background = SubResource("StyleBoxEmpty_y7p5t")
theme_override_styles/fill = SubResource("StyleBoxTexture_h2xea")

[node name="FearLabel" type="Label" parent="GUI/FearBar"]
layout_mode = 0
offset_left = 165.0
offset_right = 386.0
offset_bottom = 48.0
theme = ExtResource("2_vb8o4")
theme_override_font_sizes/font_size = 38
text = "Fear level"
vertical_alignment = 1

[node name="Control" type="Control" parent="GUI"]
layout_mode = 3
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
grow_horizontal = 2

[node name="TimeLimit" type="Label" parent="GUI/Control"]
layout_mode = 2
offset_left = -136.0
offset_top = 104.0
offset_right = 136.0
offset_bottom = 184.0
theme = ExtResource("2_vb8o4")
theme_override_font_sizes/font_size = 64
text = "00:00:00"
vertical_alignment = 1

[node name="CenterContainer" type="CenterContainer" parent="GUI/Control"]
layout_direction = 1
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_top = 144.0
offset_bottom = 144.0
grow_horizontal = 2
grow_vertical = 2
use_top_left = true

[node name="Level" type="TileMap" parent="."]
z_index = 2
tile_set = ExtResource("4_ggfrp")
format = 2
layer_0/tile_data = PackedInt32Array(0, 65537, 0, 1, 131073, 0, 2, 65537, 0, 3, 131073, 0, 4, 196609, 0, 5, 131073, 0, 6, 196609, 0, 7, 1, 0, 8, 1, 0, 9, 131073, 0, 10, 65537, 0, 11, 196609, 0, 12, 196609, 0, 13, 131073, 0, 14, 1, 0, 15, 131073, 0, 16, 196609, 0, 17, 1, 0, 18, 131073, 0, 19, 196609, 0, 20, 65537, 0, 21, 65537, 0, 22, 196609, 0, 23, 131073, 0, 24, 1, 0, 25, 65537, 0, 26, 65537, 0, 27, 131073, 0, 28, 65537, 0, 29, 65537, 0, 30, 131073, 0, 31, 196609, 0, 983071, 65537, 0, 983070, 196609, 0, 983069, 65537, 0, 983068, 65537, 0, 983067, 196609, 0, 983065, 65537, 0, 983064, 1, 0, 983063, 1, 0, 983062, 131073, 0, 983061, 196609, 0, 983060, 196609, 0, 983059, 196609, 0, 983058, 196609, 0, 983057, 131073, 0, 983056, 65537, 0, 983054, 65537, 0, 983052, 1, 0, 983050, 65537, 0, 983048, 65537, 0, 983046, 65537, 0, 983044, 1, 0, 983042, 131073, 0, 983040, 196609, 0, 917504, 65537, 0, 851968, 196609, 0, 786432, 196609, 0, 720896, 196609, 0, 655360, 1, 0, 589824, 65537, 0, 524288, 131073, 0, 458752, 1, 0, 393216, 65537, 0, 327680, 65537, 0, 262144, 131073, 0, 196608, 196609, 0, 131072, 131073, 0, 65536, 1, 0, 32, 65537, 0, 33, 1, 0, 34, 196609, 0, 35, 196609, 0, 36, 1, 0, 37, 65537, 0, 38, 196609, 0, 39, 65537, 0, 40, 65537, 0, 41, 196609, 0, 42, 1, 0, 43, 65537, 0, 44, 1, 0, 45, 131073, 0, 46, 196609, 0, 47, 131073, 0, 48, 1, 0, 49, 131073, 0, 50, 1, 0, 51, 1, 0, 52, 196609, 0, 53, 65537, 0, 54, 1, 0, 55, 196609, 0, 56, 131073, 0, 57, 65537, 0, 58, 196609, 0, 59, 131073, 0, 60, 196609, 0, 61, 196609, 0, 62, 131073, 0, 63, 1, 0, 65599, 1, 0, 131135, 65537, 0, 196671, 131073, 0, 262207, 1, 0, 327743, 65537, 0, 393279, 65537, 0, 458815, 196609, 0, 524351, 131073, 0, 589887, 65537, 0, 655423, 196609, 0, 720959, 196609, 0, 786495, 131073, 0, 852031, 131073, 0, 917567, 196609, 0, 983103, 131073, 0, 983102, 196609, 0, 983101, 1, 0, 983100, 65537, 0, 983099, 1, 0, 983098, 131073, 0, 983097, 65537, 0, 983096, 65537, 0, 983095, 65537, 0, 983094, 131073, 0, 983093, 196609, 0, 983092, 65537, 0, 983091, 65537, 0, 983090, 1, 0, 983089, 65537, 0, 983088, 65537, 0, 983087, 131073, 0, 983086, 1, 0, 983085, 65537, 0, 983084, 196609, 0, 983083, 131073, 0, 983082, 196609, 0, 983081, 131073, 0, 983080, 65537, 0, 983079, 65537, 0, 983078, 196609, 0, 983077, 65537, 0, 983076, 65537, 0, 983075, 131073, 0, 983074, 131073, 0, 983073, 196609, 0, 983072, 1, 0, 131088, 65536, 65536, 196624, 131072, 131072, 262160, 0, 0, 327696, 0, 131072, 393232, 0, 131072, 458768, 0, 65536, 524304, 0, 65536, 655376, 0, 131072, 720912, 65536, 131072, 786448, 65536, 0, 917520, 131072, 196608, 655378, 65536, 65536, 131092, 65536, 65536, 655380, 65536, 0, 720916, 0, 196608, 917526, 0, 0, 851990, 196608, 0, 524310, 131072, 65536, 327702, 0, 131072, 262166, 196608, 0, 65561, 65536, 131072, 327705, 131072, 131072, 851993, 196608, 65536, 327708, 131072, 131072, 65564, 65536, 65536, 852004, 131072, 131072, 786468, 131072, 196608, 720932, 65536, 131072, 393252, 0, 0, 327716, 65536, 65536, 131108, 65536, 131072, 524316, 131072, 131072, 393244, 0, 65536, 983041, 1, 0, 983045, 65537, 0, 983047, 131073, 0, 983049, 65537, 0, 983051, 65537, 0, 983053, 131073, 0, 983055, 196609, 0, 983043, 1, 0, 655377, 131072, 0, 524305, 196608, 131072, 131089, 65536, 196608, 131091, 196608, 65536, 327699, 131072, 65536, 393235, 65536, 65536, 655379, 131072, 0, 131093, 0, 65536, 196629, 131072, 0, 262165, 0, 65536, 327701, 196608, 65536, 655381, 131072, 0, 720917, 131072, 0, 327703, 196608, 65536, 524311, 131072, 196608, 65560, 65536, 131072, 262168, 196608, 65536, 327704, 65536, 131072, 524312, 196608, 0, 589848, 0, 196608, 655384, 0, 131072, 65562, 0, 0, 327706, 65536, 131072, 524314, 196608, 131072, 65563, 0, 65536, 524315, 0, 0, 720925, 0, 131072, 720926, 131072, 131072, 131103, 65536, 196608, 196639, 196608, 65536, 262175, 131072, 196608, 327711, 0, 131072, 393247, 131072, 65536, 458783, 196608, 0, 524319, 131072, 65536, 262176, 0, 196608, 393248, 65536, 0, 458784, 131072, 131072, 524320, 131072, 196608, 65569, 65536, 0, 131105, 65536, 65536, 524321, 0, 0, 589857, 131072, 0, 65570, 196608, 131072, 131106, 131072, 65536, 524322, 0, 131072, 589858, 65536, 65536, 655394, 65536, 65536, 720930, 65536, 196608, 65571, 131072, 131072, 131107, 131072, 196608, 393251, 196608, 65536, 589859, 65536, 65536, 655395, 0, 196608, 720931, 131072, 196608, 852001, 0, 0, 917537, 0, 131072, 917533, 196608, 131072, 851999, 131072, 196608, 852000, 131072, 196608, 917536, 196608, 65536, 720922, 65536, 65536, 786449, 196608, 0, 851985, 0, 65536, 917521, 196608, 196608, 786453, 196608, 0, 851989, 196608, 196608, 917525, 65536, 65536, 851992, 131072, 65536, 786458, 65536, 65536, 131109, 131072, 65536, 196645, 0, 65536, 262181, 131072, 0, 327717, 0, 131072, 393253, 131072, 131072, 852005, 196608, 131072, 196646, 196608, 196608, 327718, 0, 65536, 393254, 65536, 131072, 196647, 196608, 0, 393255, 196608, 196608, 458791, 65536, 196608, 524327, 65536, 196608, 720935, 65536, 196608, 786471, 65536, 131072, 852007, 0, 65536, 917543, 196608, 196608, 65576, 131072, 131072, 196648, 0, 0, 393256, 196608, 131072, 458792, 65536, 0, 589864, 196608, 196608, 655400, 65536, 196608, 786472, 131072, 65536, 852008, 0, 196608, 917544, 65536, 0, 65577, 65536, 196608, 196649, 0, 196608, 589865, 196608, 131072, 655401, 131072, 131072, 786473, 0, 65536, 65578, 131072, 131072, 589866, 0, 65536, 786474, 131072, 65536, 65579, 131072, 65536, 131115, 196608, 65536, 196651, 65536, 131072, 262187, 65536, 196608, 393259, 65536, 131072, 589867, 196608, 0, 852011, 131072, 65536, 131116, 65536, 65536, 196652, 65536, 0, 458796, 65536, 131072, 524332, 65536, 131072, 589868, 0, 196608, 852012, 0, 65536, 917548, 131072, 65536, 262189, 0, 131072, 327725, 131072, 65536, 524333, 131072, 65536, 852013, 65536, 0, 917549, 196608, 131072, 131118, 196608, 131072, 196654, 131072, 0, 262190, 65536, 131072, 524334, 196608, 65536, 589870, 65536, 131072, 655406, 0, 0, 852014, 65536, 131072, 917550, 131072, 0, 262191, 196608, 65536, 327727, 0, 196608, 393263, 131072, 0, 458799, 65536, 196608, 524335, 131072, 131072, 655407, 65536, 131072, 852015, 196608, 196608, 917551, 0, 65536, 262192, 131072, 0, 524336, 131072, 131072, 655408, 131072, 196608, 720944, 0, 0, 786480, 0, 65536, 852016, 0, 131072, 917552, 131072, 0, 65585, 65536, 65536, 131121, 196608, 196608, 262193, 196608, 65536, 720945, 0, 65536, 786481, 65536, 131072, 852017, 196608, 131072, 65586, 131072, 131072, 131122, 0, 0, 196658, 0, 131072, 262194, 131072, 0, 458802, 65536, 65536, 524338, 65536, 196608, 589874, 65536, 65536, 655410, 196608, 196608, 720946, 65536, 0, 786482, 196608, 0, 131123, 65536, 131072, 196659, 196608, 0, 262195, 196608, 196608, 458803, 131072, 131072, 524339, 0, 131072, 589875, 0, 0, 720947, 196608, 196608, 786483, 196608, 196608, 852019, 131072, 196608, 196660, 0, 0, 262196, 131072, 0, 524340, 196608, 65536, 589876, 65536, 65536, 720948, 65536, 0, 786484, 0, 65536, 852020, 196608, 131072, 917556, 196608, 131072, 65589, 196608, 196608, 131125, 131072, 0, 196661, 0, 65536, 262197, 196608, 196608, 524341, 0, 65536, 589877, 196608, 0, 786485, 65536, 131072, 852021, 131072, 65536, 917557, 196608, 0, 65590, 196608, 196608, 131126, 65536, 131072, 196662, 0, 131072, 327734, 196608, 196608, 393270, 0, 0, 524342, 65536, 131072, 589878, 0, 0, 786486, 131072, 196608, 852022, 0, 196608, 65591, 65536, 0, 131127, 196608, 0, 327735, 0, 196608, 393271, 65536, 131072, 589879, 65536, 65536, 655415, 196608, 0, 720951, 0, 131072, 786487, 65536, 196608, 393269, 0, 196608, 458805, 0, 65536, 327712, 196608, 196608, 65553, 196608, 131072, 720913, 65536, 196608, 65554, 131072, 131072, 131090, 0, 0, 524306, 196608, 131072, 720914, 0, 131072, 786450, 196608, 0, 851986, 131072, 0, 917522, 65536, 65536, 458771, 0, 0, 524307, 196608, 131072, 720915, 65536, 196608, 851987, 0, 0, 917523, 65536, 131072, 327700, 131072, 196608, 589846, 65536, 0, 655382, 65536, 131072, 720918, 131072, 196608, 786454, 65536, 65536, 65559, 131072, 65536, 131095, 196608, 196608, 196631, 65536, 131072, 262167, 131072, 0, 589847, 0, 65536, 720920, 196608, 131072, 196634, 65536, 131072, 393242, 196608, 65536, 458778, 131072, 131072, 196635, 65536, 0, 720923, 131072, 0, 851995, 131072, 65536, 196636, 196608, 0, 262174, 131072, 131072, 327710, 0, 65536, 917534, 65536, 131072, 589855, 131072, 0, 655391, 0, 196608, 720927, 131072, 65536, 786463, 0, 65536, 917535, 131072, 65536, 65568, 65536, 0, 131104, 65536, 131072, 196640, 131072, 196608, 589856, 131072, 0, 655392, 131072, 0, 720928, 131072, 65536, 786466, 196608, 65536, 852002, 65536, 196608, 327715, 131072, 196608, 458787, 65536, 65536, 524323, 65536, 0, 786467, 131072, 65536, 65572, 65536, 196608, 917540, 0, 131072, 65573, 0, 0, 720933, 131072, 65536, 917541, 0, 65536, 131110, 196608, 131072, 262182, 65536, 196608, 458790, 0, 65536, 524326, 0, 65536, 720934, 131072, 0, 131112, 131072, 131072, 524328, 0, 131072, 720936, 0, 65536, 131113, 65536, 0, 720937, 0, 65536, 131114, 131072, 131072, 196650, 196608, 0, 655402, 196608, 0, 720938, 196608, 0, 852010, 131072, 131072, 327723, 65536, 131072, 458795, 65536, 0, 524331, 0, 196608, 65580, 196608, 65536, 262188, 196608, 0, 327724, 0, 65536, 589869, 131072, 196608, 655405, 0, 65536, 327726, 0, 0, 393262, 131072, 196608, 458798, 196608, 196608, 65583, 196608, 0, 131119, 0, 65536, 196655, 131072, 0, 65584, 65536, 0, 458801, 0, 0, 524337, 131072, 0, 917553, 131072, 131072, 393268, 131072, 0, 458804, 65536, 196608, 327733, 65536, 196608, 720950, 0, 131072, 458780, 0, 131072, 458779, 131072, 0, 131100, 0, 65536, 262169, 0, 131072, 196633, 65536, 0, 262172, 0, 65536, 327709, 196608, 0, 262173, 0, 0, 851996, 131072, 131072, 720924, 131072, 131072, 917532, 0, 0, 851991, 0, 196608, 786457, 131072, 196608, 524313, 131072, 131072, 589849, 196608, 0, 655385, 0, 65536, 720921, 131072, 196608, 917527, 0, 131072, 917528, 196608, 131072, 917529, 196608, 196608, 327732, 196608, 131072, 655414, 196608, 196608, 786459, 196608, 131072, 851997, 131072, 65536)
script = ExtResource("5_ipjiy")

[node name="Background" type="Sprite2D" parent="Level"]
visible = false
z_index = -1
texture_repeat = 2
texture = ExtResource("6_y0qps")
centered = false
region_enabled = true
region_rect = Rect2(2.08165e-12, 2.08165e-12, 4096, 1024)

[node name="CanvasModulate" type="CanvasModulate" parent="."]
visible = false
light_mask = 2
visibility_layer = 2
color = Color(0.0509804, 0.00392157, 0.0588235, 1)

[node name="Player" parent="." node_paths=PackedStringArray("end", "TurnOnAtStart") instance=ExtResource("7_c6s0p")]
position = Vector2(736, 672)
end = NodePath("../End")
speed = 100.0
TurnOnAtStart = [NodePath("../CanvasModulate"), NodePath("../Level/Background")]
nextID = 5
runningMultiplier = 2.0

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_ot2c4")

[node name="StressMeter" type="Node2D" parent="."]
position = Vector2(512, 512)
script = ExtResource("8_xqgh4")
time = 30

[node name="LevelText7" type="Label" parent="StressMeter"]
z_index = 101
offset_left = 1599.0
offset_top = -14.0
offset_right = 1905.0
offset_bottom = 106.0
rotation = -1.57193
theme = ExtResource("2_vb8o4")
theme_override_font_sizes/font_size = 96
text = "hurry"
horizontal_alignment = 1
vertical_alignment = 1

[node name="LevelText4" type="Label" parent="StressMeter"]
z_index = 101
offset_left = 2110.0
offset_top = 47.0
offset_right = 2416.0
offset_bottom = 167.0
rotation = -1.57193
theme = ExtResource("2_vb8o4")
theme_override_font_sizes/font_size = 96
text = "hurry"
horizontal_alignment = 1
vertical_alignment = 1

[node name="LevelText6" type="Label" parent="StressMeter"]
z_index = 101
offset_left = 2247.0
offset_top = 190.0
offset_right = 2553.0
offset_bottom = 310.0
theme = ExtResource("2_vb8o4")
theme_override_font_sizes/font_size = 96
text = "hurry"
horizontal_alignment = 1
vertical_alignment = 1

[node name="LevelText3" type="Label" parent="StressMeter"]
z_index = 101
offset_left = 815.0
offset_top = -133.0
offset_right = 1121.0
offset_bottom = -13.0
theme = ExtResource("2_vb8o4")
theme_override_font_sizes/font_size = 96
text = "hurry"
horizontal_alignment = 1
vertical_alignment = 1

[node name="LevelText5" type="Label" parent="StressMeter"]
z_index = 101
offset_left = 1162.0
offset_top = 57.0
offset_right = 1468.0
offset_bottom = 177.0
theme = ExtResource("2_vb8o4")
theme_override_font_sizes/font_size = 96
text = "hurry"
horizontal_alignment = 1
vertical_alignment = 1

[node name="DynamicAmbient" type="AudioStreamPlayer" parent="."]
stream = ExtResource("9_gkxaj")
autoplay = true
bus = &"Ambience"

[node name="Tramps" type="Node" parent="."]
script = ExtResource("10_xsrhc")

[node name="Tramp" parent="Tramps" instance=ExtResource("11_yksfx")]
position = Vector2(981.212, 460.577)
path = "26,10,0,30,6,0"

[node name="Tramp2" parent="Tramps" instance=ExtResource("11_yksfx")]
position = Vector2(981.212, 460.577)
path = "39,4,0,42,8,0"

[node name="Tramp3" parent="Tramps" instance=ExtResource("11_yksfx")]
position = Vector2(981.212, 460.577)
path = "51,10,0,53,11,0"

[node name="Tramp4" parent="Tramps" instance=ExtResource("11_yksfx")]
position = Vector2(981.212, 460.577)
path = "54,14,0,54,7,0,54,4,0,56,1,0,54,4,0,54,7,0"

[node name="LevelInfo" type="Control" parent="."]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="LevelText" type="Label" parent="LevelInfo"]
z_index = 101
layout_mode = 0
offset_left = 208.0
offset_top = 512.0
offset_right = 1376.0
offset_bottom = 672.0
theme = ExtResource("2_vb8o4")
theme_override_font_sizes/font_size = 96
text = "tic tac tic tac..."
vertical_alignment = 1

[node name="LevelText2" type="Label" parent="LevelInfo"]
z_index = 101
layout_mode = 0
offset_left = 3624.0
offset_top = 548.0
offset_right = 4792.0
offset_bottom = 1037.0
theme = ExtResource("2_vb8o4")
theme_override_font_sizes/font_size = 96
text = "well 
played"
vertical_alignment = 1

[node name="LevelText8" type="Label" parent="LevelInfo"]
z_index = 101
offset_left = 1437.0
offset_top = 1078.0
offset_right = 2037.0
offset_bottom = 2305.0
theme = ExtResource("2_vb8o4")
theme_override_font_sizes/font_size = 96
text = "Seriously?

byyyye


i'm in space



spaaaaaace"
horizontal_alignment = 1
vertical_alignment = 1

[node name="End" parent="." instance=ExtResource("12_2vcc5")]
position = Vector2(3928, 736)
