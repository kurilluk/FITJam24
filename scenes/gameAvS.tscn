[gd_scene load_steps=19 format=3 uid="uid://bb38gi1cyox50"]

[ext_resource type="Theme" uid="uid://dhwpta7qgho67" path="res://UI/UI_theme.tres" id="1_gdy2b"]
[ext_resource type="Texture2D" uid="uid://8ohvsc1ifcrc" path="res://images/cracked-rock-1024x1024-assets/rock.png" id="2_cip7m"]
[ext_resource type="Script" path="res://scripts/astarUniversal.gd" id="3_ho5w1"]
[ext_resource type="TileSet" uid="uid://drcy18v0gpc0d" path="res://tileset/Rocks.tres" id="5_6phh8"]
[ext_resource type="Script" path="res://character.gd" id="7_1m55k"]
[ext_resource type="Texture2D" uid="uid://by23djxj6dfnd" path="res://images/ball-assets/ball.png" id="8_fwqga"]
[ext_resource type="Texture2D" uid="uid://bjsmfha28ro00" path="res://sprites/sparkle.png" id="9_kt7oo"]
[ext_resource type="PackedScene" uid="uid://btqmn3pt72x8f" path="res://scenes/player.tscn" id="10_mslo6"]
[ext_resource type="Script" path="res://scripts/StressMeter.gd" id="11_6y3gv"]
[ext_resource type="PackedScene" uid="uid://d3cfww00ag4cy" path="res://scenes/tramp.tscn" id="11_m77vg"]
[ext_resource type="Script" path="res://scripts/Tramps.gd" id="12_yqpm5"]
[ext_resource type="PackedScene" path="res://scenes/end.tscn" id="13_83vy1"]
[ext_resource type="AudioStream" uid="uid://dun8vvei2xm7h" path="res://sounds/ambience/ambience_fear_01.mp3" id="14_ftrb0"]

[sub_resource type="CanvasItemMaterial" id="CanvasItemMaterial_foa8s"]
light_mode = 1

[sub_resource type="CanvasItemMaterial" id="1"]
blend_mode = 1
particles_animation = true
particles_anim_h_frames = 8
particles_anim_v_frames = 1
particles_anim_loop = false

[sub_resource type="Curve" id="2"]
_data = [Vector2(0, 0), 0.0, 1.15429, 0, 0, Vector2(0.316832, 0.342045), 0.0399209, 0.0399209, 0, 0, Vector2(1, 0.136364), -1.05591, 0.0, 0, 0]
point_count = 3

[sub_resource type="Gradient" id="3"]
offsets = PackedFloat32Array(0, 0.692737, 1)
colors = PackedColorArray(1, 0.893555, 0, 1, 0.265625, 1, 0.490903, 1, 0.0154343, 0.688679, 0.987793, 1)

[sub_resource type="Environment" id="Environment_ot2c4"]
glow_intensity = 3.33
glow_strength = 0.96
glow_blend_mode = 0
glow_hdr_threshold = 1.95

[node name="Game" type="Node2D"]

[node name="GUI" type="CanvasLayer" parent="."]

[node name="todo_texture_bar" type="TextureProgressBar" parent="GUI"]
visible = false
offset_right = 384.0
offset_bottom = 40.0

[node name="FearBar" type="ProgressBar" parent="GUI"]
offset_left = 64.0
offset_top = 64.0
offset_right = 640.0
offset_bottom = 192.0
theme = ExtResource("1_gdy2b")
value = 50.0

[node name="Level" type="TileMap" parent="."]
z_index = 2
tile_set = ExtResource("5_6phh8")
format = 2
layer_0/tile_data = PackedInt32Array(0, 65537, 0, 1, 131073, 0, 2, 65537, 0, 3, 131073, 0, 4, 196609, 0, 5, 131073, 0, 6, 196609, 0, 7, 1, 0, 8, 1, 0, 9, 131073, 0, 10, 65537, 0, 11, 196609, 0, 12, 196609, 0, 13, 131073, 0, 14, 1, 0, 15, 131073, 0, 16, 196609, 0, 17, 1, 0, 18, 131073, 0, 19, 196609, 0, 20, 65537, 0, 21, 65537, 0, 22, 196609, 0, 23, 131073, 0, 24, 1, 0, 25, 65537, 0, 26, 65537, 0, 27, 131073, 0, 28, 65537, 0, 29, 65537, 0, 30, 131073, 0, 31, 196609, 0, 983071, 65537, 0, 983070, 196609, 0, 983069, 65537, 0, 983068, 65537, 0, 983067, 196609, 0, 983066, 196609, 0, 983065, 65537, 0, 983064, 1, 0, 983063, 1, 0, 983062, 131073, 0, 983061, 196609, 0, 983059, 196609, 0, 983058, 196609, 0, 983057, 131073, 0, 983056, 65537, 0, 983054, 65537, 0, 983052, 1, 0, 983050, 65537, 0, 983048, 65537, 0, 983046, 65537, 0, 983044, 1, 0, 983042, 131073, 0, 983040, 196609, 0, 917504, 65537, 0, 851968, 196609, 0, 786432, 196609, 0, 720896, 196609, 0, 655360, 1, 0, 589824, 65537, 0, 524288, 131073, 0, 458752, 1, 0, 393216, 65537, 0, 327680, 65537, 0, 262144, 131073, 0, 196608, 196609, 0, 131072, 131073, 0, 65536, 1, 0, 32, 65537, 0, 33, 1, 0, 34, 196609, 0, 35, 196609, 0, 36, 1, 0, 37, 65537, 0, 38, 196609, 0, 39, 65537, 0, 40, 65537, 0, 41, 196609, 0, 42, 1, 0, 43, 65537, 0, 44, 1, 0, 45, 131073, 0, 46, 196609, 0, 47, 131073, 0, 48, 1, 0, 49, 131073, 0, 50, 1, 0, 51, 1, 0, 52, 196609, 0, 53, 65537, 0, 54, 1, 0, 55, 196609, 0, 56, 131073, 0, 57, 65537, 0, 58, 196609, 0, 59, 131073, 0, 60, 196609, 0, 61, 196609, 0, 62, 131073, 0, 63, 1, 0, 65599, 1, 0, 131135, 65537, 0, 196671, 131073, 0, 262207, 1, 0, 327743, 65537, 0, 393279, 65537, 0, 458815, 196609, 0, 524351, 131073, 0, 589887, 65537, 0, 655423, 196609, 0, 720959, 196609, 0, 786495, 131073, 0, 852031, 131073, 0, 917567, 196609, 0, 983103, 131073, 0, 983102, 196609, 0, 983101, 1, 0, 983100, 65537, 0, 983099, 1, 0, 983098, 131073, 0, 983097, 65537, 0, 983096, 65537, 0, 983095, 65537, 0, 983094, 131073, 0, 983093, 196609, 0, 983092, 65537, 0, 983091, 65537, 0, 983090, 1, 0, 983089, 65537, 0, 983088, 65537, 0, 983087, 131073, 0, 983086, 1, 0, 983085, 65537, 0, 983084, 196609, 0, 983083, 131073, 0, 983082, 196609, 0, 983081, 131073, 0, 983080, 65537, 0, 983079, 65537, 0, 983078, 196609, 0, 983077, 65537, 0, 983076, 65537, 0, 983075, 131073, 0, 983074, 131073, 0, 983073, 196609, 0, 983072, 1, 0, 65552, 0, 196608, 131088, 65536, 65536, 196624, 196608, 0, 393232, 131072, 196608, 458768, 131072, 0, 655376, 131072, 65536, 720912, 196608, 196608, 786448, 65536, 65536, 851984, 65536, 196608, 917520, 0, 0, 196626, 65536, 65536, 131090, 0, 65536, 65554, 131072, 131072, 917526, 196608, 196608, 851990, 65536, 131072, 786454, 131072, 131072, 720918, 196608, 65536, 655382, 196608, 196608, 524310, 131072, 196608, 458774, 131072, 131072, 393238, 65536, 196608, 327702, 0, 131072, 262166, 131072, 0, 196630, 196608, 65536, 131094, 196608, 131072, 65558, 196608, 131072, 131097, 0, 196608, 196633, 65536, 196608, 327705, 131072, 0, 393241, 196608, 196608, 458777, 65536, 196608, 524313, 0, 131072, 589849, 131072, 196608, 655385, 0, 196608, 720921, 131072, 0, 786457, 131072, 131072, 851993, 131072, 0, 917529, 131072, 196608, 917532, 196608, 196608, 65564, 131072, 0, 983041, 1, 0, 983045, 65537, 0, 983047, 131073, 0, 983049, 65537, 0, 983051, 65537, 0, 983053, 131073, 0, 983055, 196609, 0, 983043, 1, 0, 917516, 131072, 131072, 851980, 131072, 196608, 786444, 65536, 131072, 720908, 65536, 196608, 655372, 65536, 0, 589836, 196608, 0, 393228, 196608, 131072, 327692, 131072, 131072, 262156, 65536, 131072, 196620, 131072, 0, 131084, 0, 65536, 65548, 196608, 196608, 458764, 65536, 65536, 458767, 65536, 0, 393231, 196608, 0, 196623, 65536, 65536, 131087, 196608, 0, 65551, 196608, 131072, 655375, 65536, 0, 720911, 65536, 0, 786447, 131072, 131072, 851983, 65536, 65536, 917519, 196608, 65536, 983060, 196609, 0, 589843, 0, 196608, 655379, 65536, 65536, 720915, 0, 196608, 786451, 196608, 131072, 851987, 0, 196608, 917523, 65536, 131072, 65555, 196608, 131072, 131091, 131072, 0, 196627, 65536, 196608, 262163, 0, 0, 327699, 131072, 65536, 393235, 131072, 65536, 524307, 0, 196608, 524306, 131072, 0, 589842, 196608, 0, 655378, 0, 196608, 720914, 0, 65536, 786450, 131072, 131072, 851986, 0, 0, 917522, 0, 0, 393234, 131072, 0, 327698, 131072, 65536, 262162, 131072, 131072, 327695, 196608, 0, 327696, 65536, 196608, 524303, 0, 65536, 524304, 131072, 0, 262169, 131072, 196608, 65565, 65536, 131072, 131101, 131072, 196608, 65566, 131072, 196608, 131102, 131072, 196608, 196638, 131072, 196608, 65567, 196608, 196608, 131103, 65536, 0, 196639, 0, 196608, 262175, 131072, 131072, 65568, 196608, 196608, 131104, 196608, 196608, 196640, 0, 65536, 262176, 131072, 131072, 327712, 65536, 65536, 851997, 196608, 196608, 917533, 0, 131072, 786462, 0, 196608, 851998, 65536, 131072, 917534, 0, 131072, 917535, 65536, 0, 851999, 65536, 65536, 786463, 196608, 65536, 720927, 131072, 131072, 655392, 0, 65536, 720928, 65536, 196608, 786464, 196608, 65536, 852000, 0, 131072, 917536, 196608, 131072, 589857, 0, 0, 655393, 196608, 131072, 720929, 65536, 131072, 786465, 196608, 196608, 852001, 196608, 0, 917537, 65536, 196608, 393249, 65536, 131072, 327713, 196608, 131072, 262177, 65536, 196608, 196641, 196608, 0, 131105, 0, 196608, 65569, 196608, 131072, 458785, 0, 131072, 65563, 0, 196608, 131100, 65536, 0, 196637, 196608, 196608, 262174, 65536, 65536, 327711, 65536, 131072, 393248, 0, 65536, 65570, 65536, 0, 131106, 65536, 131072, 196642, 65536, 196608, 262178, 131072, 65536, 327714, 196608, 65536, 393250, 65536, 196608, 458786, 0, 196608, 524322, 196608, 65536, 589858, 65536, 196608, 655394, 0, 196608, 720930, 0, 0, 786466, 196608, 196608, 852002, 196608, 65536, 917538, 0, 0, 589859, 131072, 131072, 655395, 131072, 196608, 720931, 131072, 131072, 786467, 131072, 65536, 852003, 196608, 131072, 917539, 0, 131072, 65571, 131072, 65536, 131107, 131072, 131072, 196643, 196608, 0, 262179, 65536, 65536, 327715, 65536, 196608, 393251, 65536, 65536, 458787, 0, 131072, 655396, 65536, 65536, 786468, 131072, 0, 720933, 131072, 196608, 786470, 0, 65536, 852007, 131072, 196608, 917544, 196608, 196608, 917543, 0, 65536, 917542, 196608, 131072, 917541, 65536, 65536, 852005, 196608, 65536, 917540, 196608, 131072, 852004, 196608, 131072, 786469, 65536, 131072, 720932, 65536, 196608, 852006, 0, 196608, 393252, 131072, 196608, 327717, 131072, 0, 262182, 0, 0, 196647, 0, 131072, 131112, 65536, 0, 65577, 0, 131072, 65576, 196608, 0, 65575, 131072, 65536, 65574, 65536, 196608, 65573, 0, 0, 65572, 196608, 131072, 327716, 0, 131072, 262180, 196608, 131072, 196644, 196608, 65536, 131109, 65536, 196608, 131111, 196608, 65536, 196646, 65536, 0, 262181, 0, 0, 131110, 131072, 196608, 196645, 196608, 0, 131108, 65536, 0, 458765, 196608, 0, 393229, 65536, 0, 327693, 196608, 0, 262157, 0, 0, 196621, 65536, 0, 131085, 0, 0, 65549, 0, 0, 589837, 0, 0, 655373, 196608, 0, 720909, 65536, 0, 786445, 65536, 0, 851981, 131072, 0, 917517, 131072, 0)
script = ExtResource("3_ho5w1")

[node name="Background" type="Sprite2D" parent="Level"]
visible = false
z_index = -1
texture_repeat = 2
texture = ExtResource("2_cip7m")
centered = false
region_enabled = true
region_rect = Rect2(2.08165e-12, 2.08165e-12, 8192, 1024)

[node name="Character" type="Marker2D" parent="."]
visible = false
top_level = true
position = Vector2(32, 32)
script = ExtResource("7_1m55k")

[node name="Sprite2D" type="Sprite2D" parent="Character"]
visible = false
light_mask = 0
material = SubResource("CanvasItemMaterial_foa8s")
texture = ExtResource("8_fwqga")

[node name="CPUParticles2D" type="CPUParticles2D" parent="Character"]
visible = false
material = SubResource("1")
position = Vector2(-20, 0)
rotation = 1.5708
amount = 30
texture = ExtResource("9_kt7oo")
emission_shape = 1
emission_sphere_radius = 8.0
direction = Vector2(0, 1)
spread = 25.0
gravity = Vector2(0, 0)
initial_velocity_min = 50.0
initial_velocity_max = 50.0
scale_amount_curve = SubResource("2")
color_ramp = SubResource("3")

[node name="CanvasModulate" type="CanvasModulate" parent="."]
visible = false
light_mask = 2
visibility_layer = 2
color = Color(0.0509804, 0.00392157, 0.0588235, 1)

[node name="Tramps" type="Node" parent="."]
script = ExtResource("12_yqpm5")

[node name="Tramp" parent="Tramps" instance=ExtResource("11_m77vg")]
z_index = 1
position = Vector2(984, 864)
path = "1,1,0,5,5,1"

[node name="Player" parent="." node_paths=PackedStringArray("end") instance=ExtResource("10_mslo6")]
position = Vector2(1181, 478)
end = NodePath("../End")
nextID = 1

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_ot2c4")

[node name="StressMeter" type="Node2D" parent="."]
position = Vector2(512, 512)
script = ExtResource("11_6y3gv")

[node name="DynamicAmbient" type="AudioStreamPlayer" parent="."]
stream = ExtResource("14_ftrb0")
bus = &"Ambience"

[node name="End" parent="." instance=ExtResource("13_83vy1")]
position = Vector2(2528, 544)
